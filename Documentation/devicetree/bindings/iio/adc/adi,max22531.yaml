# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
# Copyright 2025 Abhinav Jain
%YAML 1.2
---
$id: http://devicetree.org/schemas/iio/adc/adi,max22531.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Analog Devices MAX22530-MAX22532 12-bit Field Isolated ADCs

maintainers:
  - Abhinav Jain <jain.abhinav177@gmail.com>

description:
  Bindings for the Analog Devices Max22530-MAX22532 Field-Side Self-Powered,
  4-Channel, 12-bit, Isolated ADCs.

  Datasheet can be found here
    https://www.analog.com/media/en/technical-documentation/data-sheets/max22530-max22532.pdf

$ref: /schemas/spi/spi-peripheral-props.yaml#

properties:
  compatible:
    enum:
      - adi,max22530
      - adi,max22531
      - adi,max22532

  reg:
    maxItems: 1

  spi-max-frequency:
    maximum: 10000000
    description: Maximum SPI frequency (Hz)

  vddl-supply:
    description:
      Logic power supply.

  vddpl-supply:
    description:
      Isolated DC-DC converter power supply.

  interrupts:
    items:
      - description: |
          Interrupt for signaling when conversion results exceed the upper
          threshold for ADC readings or fall below the lower threshold. The
          interrupt source must be attached to one of COUT1 to COUT4 pins.
      - description: |
          Alert output that asserts low during a number of different error
          conditions. The interrupt source must be attached to INT pin.

required:
  - compatible
  - reg
  - vddl-supply
  - vddpl-supply

additionalProperties: false

examples:
  - |
    spi {
      #address-cells = <1>;
      #size-cells = <0>;

      max22531: adc@0 {
        compatible = "adi,max22531";
        reg = <0>;
        spi-max-frequency = <5000000>;
        vddl-supply = <&vddl>;
        vddpl-supply = <&vddpl>;
      };
    };
