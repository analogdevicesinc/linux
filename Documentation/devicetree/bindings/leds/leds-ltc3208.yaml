# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
# Copyright (c) 2025 Analog Devices, Inc.
%YAML 1.2
---
$id: http://devicetree.org/schemas/leds/leds-ltc3208.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: LTC3208 Multidisplay LED Controller from Linear Technologies (Now Analog Devices).

maintainers:
  - Jan Carlo Roleda <jancarlo.roleda@analog.com>

description:
  The LTC3208 is a multidisplay LED controller that can support up to 1A to all
  connected LEDs.

  The datasheet for this device can be found in
  https://www.analog.com/en/products/ltc3208.html


properties:
  compatible:
    const: adi,ltc3208

  reg:
    maxItems: 1

  '#address-cells':
    const: 1

  '#size-cells':
    const: 0

  adi,disable-camhl-pin:
    type: boolean
    description: Configures whether the external CAMHL pin is disabled.
      if disabled then the output pins associated with CAM will always select
      the CAM register's high half-byte brightness.

  adi,cfg-enrgbs-pin:
    type: boolean
    description:
      Configures which channel the ENRGBS pin toggles when it receives a signal.
      ENRGBS pin controls the SUB channel's output pins if this is set,
      or RGB channel's output pins if this is unset.

  adi,force-cpo-level:
    $ref: /schemas/types.yaml#/definitions/string
    description: Forces the Charge Pump Output to a specified multiplier
    enum:
      - "1" # none; device CPO multiplier acts on dropout signals
      - "1.5"
      - "2"
    default:
      - "1"

  adi,disable-rgb-aux4-dropout:
    type: boolean
    description: Configures the RGB and AUX4 dropout signals to be disabled.

  adi,aux1-channel:
    $ref: /schemas/types.yaml#/definitions/string
    description:
      LED Channel that the AUX1 output pin mirrors its brightness level from.
    enum: [aux, main, sub, cam]
    default: aux

  adi,aux2-channel:
    $ref: /schemas/types.yaml#/definitions/string
    description:
      LED Channel that the AUX2 output pin mirrors its brightness level from.
    enum: [aux, main, sub, cam]
    default: aux

  adi,aux3-channel:
    $ref: /schemas/types.yaml#/definitions/string
    description:
      LED Channel that the AUX3 output pin mirrors its brightness level from.
    enum: [aux, main, sub, cam]
    default: aux

  adi,aux4-channel:
    $ref: /schemas/types.yaml#/definitions/string
    description:
      LED Channel that the AUX4 output pin mirrors its brightness level from.
    enum: [aux, main, sub, cam]
    default: aux

patternProperties:
  "^led@[0-7]$":
    type: object
    $ref: /schemas/leds/common.yaml#
    unevaluatedProperties: false
    properties:
      reg:
        description:
          LED Channel Number. each channel maps to a specific channel group used
          to configure the brightness level of the output pins corresponding to
          the channel.
        enum:
          - 0 # Main Channel (8-bit brightness)
          - 1 # Sub Channel (8-bit brightness)
          - 2 # AUX Channel (4-bit brightness)
          - 3 # Camera Channel, Low-side byte (4-bit brightness)
          - 4 # Camera Channel, High-side byte (4-bit brightness)
          - 5 # Red Channel (4-bit brightness)
          - 6 # Blue Channel (4-bit brightness)
          - 7 # Green Channel (4-bit brightness)
    required:
      - reg

required:
  - compatible
  - reg

additionalProperties: false

examples:
  - |
    #include <dt-bindings/gpio/gpio.h>
    i2c {
      #address-cells = <1>;
      #size-cells = <0>;

      led-controller@1b {
        compatible = "adi,ltc3208";
        reg = <0x1b>;
        #address-cells = <1>;
        #size-cells = <0>;
        adi,force-cpo-level = "1";
        adi,disable-camhl-pin;
        adi,cfg-enrgbs-pin;
        adi,disable-rgb-aux4-dropout;

        led@0 {
          reg = <0>;
        };

        led@1 {
          reg = <1>;
        };

        led@2 {
          reg = <2>;
        };

        led@3 {
          reg = <3>;
        };

        led@4 {
          reg = <4>;
        };

        led@5 {
          reg = <5>;
        };

        led@6 {
          reg = <6>;
        };

        led@7 {
          reg = <7>;
        };
      };
    };
