# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/power/reset/adi,max16150.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Analog Devices MAX16150/MAX16169 nanoPower Pushbutton On/Off Controller

maintainers:
  - Marc Paolo Sosa <marcpaolo.sosa@analog.com>

description: |
  The MAX16150/MAX16169 is an extremely low-power, pushbutton, on/off controller
  with avswitch debouncer and built-in latch. This device accepts a noisy input
  from a mechanical switch and produces a clean, latched output, as well as a
  one-shot interrupt output, in response to a switch closure exceeding the
  debounce period at PB_IN. A switch closure longer than shutdown period at
  PB_IN results in a longer one-shot interrupt output. The MAX16150 family has
  two set of devices, one in which a longer switch closure greater than the
  shutdown period deasserts the latched output, and another in which the latched
  output stays asserted.

  Specifications about the charger can be found at:
    https://www.analog.com/en/products/max16150.html
    https://www.analog.com/en/products/max16169.html

properties:
  compatible:
    enum:
      - adi,max16150
      - adi,max16169

  reg:
    maxItems: 1

required:
  - compatible
  - adi,variant

additionalProperties: false

examples:
  - |
    gpio {
        max161x_pins: max161x_pins {
            brcm,pins = <17 18 22 23>;
            brcm,function = <0>;
            brcm,pull = <0>;
        };
    };

    max161x@0 {
        compatible = "adi,max16150";
        adi,variant = "A";

        gpio-pb_in = <&gpio 17 1>;
        gpio-out = <&gpio 18 0>;
        gpio-clr = <&gpio 22 1>;
        gpio-int = <&gpio 23 0>;

        status = "okay";
    };
