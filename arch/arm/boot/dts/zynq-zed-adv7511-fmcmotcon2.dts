// SPDX-License-Identifier: GPL-2.0
/* Copyright (C) 2024 Analog Devices Inc. */

/dts-v1/;

#include "zynq-zed.dtsi"
#include "zynq-zed-adv7511.dtsi"

&aliases {
	ethernet1 = &gem1;
};

&gem0 {
	phy1: phy@1 {
		device_type = "ethernet-phy";
		reg = <0x1>;
		marvell,reg-init = <3 16 0xff00 0x1e 3 17 0xfff0 0x0a>;
	};
};

&gem1 {
	status = "okay";

	phy-handle = <&phy1>;
	phy-mode = "rgmii-id";
};

&fpga_axi {
	fmc_i2c: i2c@41620000 {
		compatible = "xlnx,axi-iic-1.01.b", "xlnx,xps-iic-2.00.a";
		reg = <0x41620000 0x10000>;
		interrupt-parent = <&intc>;
		interrupts = <0 55 IRQ_TYPE_LEVEL_HIGH>;
		clocks = <&clkc 15>;
		clock-names = "pclk";

		#size-cells = <0>;
		#address-cells = <1>;

		eeprom@50 {
			compatible = "at24,24c02";
			reg = <0x50>;
		};
	};

	ad-mc-adc@44a00000 {
		compatible = "xlnx,axi-ad-mc-adc-1.00.a";
		reg = <0x44a00000 0x10000>;
		dmas = <&ad_mc_adc_dma 0>;
		dma-names = "ad-mc-adc-dma";
		clocks = <&axi_clk_gen 0>;
	};

	ad_mc_adc_dma: dma@44a30000 {
		compatible = "adi,axi-dmac-1.00.a";
		reg = <0x44a30000 0x1000>;
		#dma-cells = <1>;
		interrupts = <0 57 IRQ_TYPE_LEVEL_HIGH>;
		clocks = <&clkc 15>;
	};

	axi_clk_gen: axi-clkgen@44a40000 {
		compatible = "adi,axi-clkgen-2.00.a";
		reg = <0x44a40000 0x10000>;
		#clock-cells = <0>;
		clocks = <&clkc 15>, <&clkc 15>;
		clock-names = "s_axi_aclk", "clkin1";
		clock-output-names = "axi_clk_gen";

		assigned-clocks = <&axi_clk_gen>;
		assigned-clock-rates = <50000000>;
	};
};
