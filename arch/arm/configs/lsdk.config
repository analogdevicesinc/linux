# general
CONFIG_ARM_MODULE_PLTS=y
CONFIG_CHECKPOINT_RESTORE=y

# virtualization
CONFIG_KVM=y
CONFIG_KVM_ARM_MAX_VCPUS=8
CONFIG_VHOST_NET=y
CONFIG_BRIDGE=y
CONFIG_TUN=y

# containers
CONFIG_UNIX_DIAG=y
CONFIG_PACKET_DIAG=y
CONFIG_NETLINK_DIAG=y
CONFIG_OVERLAY_FS=y

# network and misc
CONFIG_INET_ESP=y
CONFIG_XFRM_USER=y
CONFIG_NET_KEY=y
CONFIG_VETH=y
CONFIG_NETFILTER=y
CONFIG_IP_NF_IPTABLES=y
CONFIG_IP_NF_NAT=y
CONFIG_IP_NF_MANGLE=y
CONFIG_NF_CONNTRACK_IPV4=y
CONFIG_NF_CONNTRACK_IPV6=y
CONFIG_NF_CONNTRACK=y
CONFIG_NF_CONNTRACK_MARK=y
CONFIG_NF_CONNTRACK_PROCFS=y
CONFIG_NF_NAT_IPV4=y
CONFIG_NF_NAT_IPV6=y
CONFIG_IP_NF_TARGET_MASQUERADE=y
CONFIG_IP6_NF_TARGET_MASQUERADE=y
CONFIG_NETFILTER_XT_TARGET_CHECKSUM=y
CONFIG_MACVLAN=y
CONFIG_MACVTAP=y
CONFIG_VLAN_8021Q=y

# namespaces
CONFIG_NAMESPACES=y
CONFIG_USER_NS=y
CONFIG_DEVPTS_MULTIPLE_INSTANCES=y

# cgroups
CONFIG_CPUSETS=y
CONFIG_CGROUP_PIDS=y
CONFIG_CGROUP_DEVICE=y
CONFIG_CGROUP_SCHED=y
CONFIG_CGROUP_CPUACCT=y
CONFIG_MEMCG=y
CONFIG_CGROUP_FREEZER=y

# iptables
CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
CONFIG_IP_NF_FILTER=y
CONFIG_NETFILTER_XT_MATCH_ADDRTYPE=y
CONFIG_IP_VS=y
CONFIG_NETFILTER_XT_MATCH_IPVS=y
CONFIG_POSIX_MQUEUE=y
CONFIG_IP6_NF_IPTABLES=y
CONFIG_IP6_NF_NAT=y
CONFIG_IP6_NF_FILTER=y
CONFIG_NETFILTER_XT_MATCH_COMMENT=y

# filesystems
CONFIG_EXT4_FS_POSIX_ACL=y
CONFIG_EXT4_FS_SECURITY=y
CONFIG_FUSE_FS=y

# crypto
CONFIG_MD=y
CONFIG_BLK_DEV_MD=m
CONFIG_BLK_DEV_DM=m
CONFIG_DM_CRYPT=m

# /proc/config.gz
CONFIG_IKCONFIG=y
CONFIG_IKCONFIG_PROC=y

# disable unneeded options and override default options set by defconfig to deduce the size of modules
# CONFIG_DRM_TEGRA is not set
# CONFIG_DRM_EXYNOS is not set
# CONFIG_DRM_MSM is not set
# CONFIG_DRM_VC4 is not set
# CONFIG_DRM_ROCKCHIP is not set
# CONFIG_DRM_RCAR_DU is not set
# CONFIG_USB_RENESAS_USBHS is not set
# CONFIG_TEGRA_HOST1X is not set
# CONFIG_SND_SOC_ROCKCHIP is not set
