// SPDX-License-Identifier: GPL-2.0
/*
 * ADRV2CRR-FMC using ADRV9009-ZU11EG Rev.B System on Module
 *
 * https://wiki.analog.com/resources/eval/user-guides/adrv9009
 * https://wiki.analog.com/resources/tools-software/linux-drivers/iio-transceiver/adrv9009
 * https://wiki.analog.com/resources/tools-software/linux-software/adrv9009_advanced_plugin
 * https://wiki.analog.com/resources/eval/user-guides/adrv9009-zu11eg/adrv2crr-fmc_carrier_board
 *
 * hdl_project: <adrv9009zu11eg/adrv2crr_fmc>
 * board_revision: <B>
 *
 * Copyright (C) 2019 Analog Devices Inc.
 */

#include "zynqmp-adrv9009-zu11eg-revb-adrv2crr-fmc-revb.dts"
#include <dt-bindings/iio/frequency/hmc7044.h>
#include <dt-bindings/iio/adc/adi,adrv9009.h>

&trx0_adrv9009 {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-top-device = <0>; /* This is the TOP device */
	jesd204-link-ids = <DEFRAMER_LINK_TX FRAMER_LINK_RX FRAMER_LINK_ORX>;

	jesd204-inputs =
		<&trx1_adrv9009 0 FRAMER_LINK_RX>,
		<&trx1_adrv9009 0 FRAMER_LINK_ORX>,
		<&trx1_adrv9009 0 DEFRAMER_LINK_TX>;

	/delete-property/ interrupts;

  /* ORX */
	adi,orx-profile-rx-fir-coefs = /bits/ 16 <(-15) 9 (-13) 19 (-28) 38 (-73) 110 (-195) 409 (-1006) 17711 (-1006) 409 (-195) 110 (-73) 38 (-28) 19 (-13) 9 (-15) 0>;
	adi,orx-profile-rhb1-decimation = <1>;
	adi,orx-profile-orx-output-rate_khz = <491520>;
	adi,orx-profile-rf-bandwidth_hz = <450000000>;
	adi,orx-profile-orx-low-pass-adc-profile = /bits/ 16  <155 163 181 90 1280 1254 1572 340 1431 142 973 8 48 47 36 205 0 0 0 0 51 0 0 6 24 0 0 6 24 0 25 27 0 0 25 27 0 0 165 44 15 905>;
	adi,orx-profile-orx-band-pass-adc-profile = /bits/ 16  <124 131 154 90 1280 2779 1986 0 1037 839 988 109 11 15 28 179 0 0 0 0 45 0 0 0 24 0 0 0 24 0 25 27 0 0 25 27 0 0 165 44 15 905>;
	adi,orx-profile-orx-merge-filter = /bits/ 16  <(-167) 419 (-208) (-498) 968 (-320) (-1273) 2154 (-402) (-4155) 9170 21413>;

	/* TX */
	adi,tx-profile-tx-fir-num-fir-coefs = <20>;
	adi,tx-profile-tx-fir-coefs = /bits/ 16  <(-14) (5) (-9) (6) (-4) (19) (-29) (27) (-30) (46) (-63) (77) (-103) (150) (-218) (337) (-599) (1266) (-2718) (19537) (-2718) (1266) (-599) (337) (-218) (150) (-103) (77) (-63) (46) (-30) (27) (-29) (19) (-4) (6) (-9) (5) (-14) (0)>;
	adi,tx-profile-thb3-interpolation = <1>;
	adi,tx-profile-tx-input-rate_khz = <491520>;
	adi,tx-profile-primary-sig-bandwidth_hz = <200000000>;
	adi,tx-profile-rf-bandwidth_hz = <450000000>;
	adi,tx-profile-tx-dac3d-bcorner_khz = <450000>;
	adi,tx-profile-tx-bbf3d-bcorner_khz = <225000>;
	adi,tx-profile-loop-back-adc-profile = /bits/ 16 <150 178 181 90 1280 1338 1699 493 1386 162 934 4 48 46 35 201 0 0 0 0 50 0 0 6 24 0 0 6 24 0 25 27 0 0 25 27 0 0 165 44 15 905>;

	adi,jesd204-framer-a-lmfc-offset = <15>;
};

&trx1_adrv9009 {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs =
		<&axi_adrv9009_rx_jesd 0 FRAMER_LINK_RX>,
		<&axi_adrv9009_rx_os_jesd 0 FRAMER_LINK_ORX>,
		<&axi_adrv9009_core_tx 0 DEFRAMER_LINK_TX>;

	/delete-property/ interrupts;

	/* ORX */
	adi,orx-profile-rx-fir-coefs = /bits/ 16 <(-15) 9 (-13) 19 (-28) 38 (-73) 110 (-195) 409 (-1006) 17711 (-1006) 409 (-195) 110 (-73) 38 (-28) 19 (-13) 9 (-15) 0>;
	adi,orx-profile-rhb1-decimation = <1>;
	adi,orx-profile-orx-output-rate_khz = <491520>;
	adi,orx-profile-rf-bandwidth_hz = <450000000>;
	adi,orx-profile-orx-low-pass-adc-profile = /bits/ 16  <155 163 181 90 1280 1254 1572 340 1431 142 973 8 48 47 36 205 0 0 0 0 51 0 0 6 24 0 0 6 24 0 25 27 0 0 25 27 0 0 165 44 15 905>;
	adi,orx-profile-orx-band-pass-adc-profile = /bits/ 16  <124 131 154 90 1280 2779 1986 0 1037 839 988 109 11 15 28 179 0 0 0 0 45 0 0 0 24 0 0 0 24 0 25 27 0 0 25 27 0 0 165 44 15 905>;
	adi,orx-profile-orx-merge-filter = /bits/ 16  <(-167) 419 (-208) (-498) 968 (-320) (-1273) 2154 (-402) (-4155) 9170 21413>;

	/* TX */
	adi,tx-profile-tx-fir-num-fir-coefs = <20>;
	adi,tx-profile-tx-fir-coefs = /bits/ 16  <(-14) (5) (-9) (6) (-4) (19) (-29) (27) (-30) (46) (-63) (77) (-103) (150) (-218) (337) (-599) (1266) (-2718) (19537) (-2718) (1266) (-599) (337) (-218) (150) (-103) (77) (-63) (46) (-30) (27) (-29) (19) (-4) (6) (-9) (5) (-14) (0)>;
	adi,tx-profile-thb3-interpolation = <1>;
	adi,tx-profile-tx-input-rate_khz = <491520>;
	adi,tx-profile-primary-sig-bandwidth_hz = <200000000>;
	adi,tx-profile-rf-bandwidth_hz = <450000000>;
	adi,tx-profile-tx-dac3d-bcorner_khz = <450000>;
	adi,tx-profile-tx-bbf3d-bcorner_khz = <225000>;
	adi,tx-profile-loop-back-adc-profile = /bits/ 16 <150 178 181 90 1280 1338 1699 493 1386 162 934 4 48 46 35 201 0 0 0 0 50 0 0 6 24 0 0 6 24 0 25 27 0 0 25 27 0 0 165 44 15 905>;

	adi,jesd204-framer-a-lmfc-offset = <15>;
};

&axi_adrv9009_core_tx {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs = <&axi_adrv9009_tx_jesd 0 DEFRAMER_LINK_TX>;
	adi,axi-data-offload-connected = <&axi_data_offload_tx>;
	adi,axi-pl-fifo-enable;
};

&axi_adrv9009_rx_jesd {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs = <&axi_adrv9009_adxcvr_rx 0 FRAMER_LINK_RX>;
	clocks = <&zynqmp_clk 71>, <&hmc7044 7>, <&axi_adrv9009_adxcvr_rx 0>;
	clock-names = "s_axi_aclk", "device_clk", "lane_clk";
};

&axi_adrv9009_rx_os_jesd {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs = <&axi_adrv9009_adxcvr_rx_os 0 FRAMER_LINK_ORX>;
	clocks = <&zynqmp_clk 71>, <&hmc7044 6>, <&axi_adrv9009_adxcvr_rx_os 0>;
	clock-names = "s_axi_aclk", "device_clk", "lane_clk";
};

&axi_adrv9009_tx_jesd {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs = <&axi_adrv9009_adxcvr_tx 0 DEFRAMER_LINK_TX>;
	clocks = <&zynqmp_clk 71>, <&hmc7044 6>, <&axi_adrv9009_adxcvr_tx 0>;
	clock-names = "s_axi_aclk", "device_clk", "lane_clk";
};

&axi_adrv9009_adxcvr_rx {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs =  <&hmc7044 0 FRAMER_LINK_RX>;
	clock-names = "conv";
	clocks = <&hmc7044 5>;
};

&axi_adrv9009_adxcvr_rx_os {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs =  <&hmc7044 0 FRAMER_LINK_ORX>;
	clock-names = "conv";
	clocks = <&hmc7044 4>;
};

&axi_adrv9009_adxcvr_tx {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs =  <&hmc7044 0 DEFRAMER_LINK_TX>;
	clock-names = "conv";
	clocks = <&hmc7044 4>;
};

&hmc7044 {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-inputs = <&hmc7044_car 0 FRAMER_LINK_RX>,
		<&hmc7044_car 0 FRAMER_LINK_ORX>,
		<&hmc7044_car 0 DEFRAMER_LINK_TX>;

	adi,pulse-generator-mode = <HMC7044_PULSE_GEN_16_PULSE>;
	adi,sync-pin-mode = <1>;

	/delete-property/ adi,pll2-autocal-bypass-manual-cap-bank-sel;
	adi,hmc-two-level-tree-sync-en;

	hmc7044_c6: channel@6 {
		reg = <6>;
		adi,extended-name = "CORE_CLK_TX_OBS_AB";
		adi,divider = <12>;	// 245760000
		adi,driver-mode = <HMC7044_DRIVER_MODE_LVDS>;	// LVDS
	};
};

&hmc7044_car {
	jesd204-device;
	#jesd204-cells = <2>;
	jesd204-sysref-provider;

	adi,pulse-generator-mode = <HMC7044_PULSE_GEN_16_PULSE>;
	adi,sync-pin-mode = <0>;

	/delete-property/ adi,pll2-autocal-bypass-manual-cap-bank-sel;
	adi,hmc-two-level-tree-sync-en;
};

/ {
	clocks {
		adf4371_clkin: clock@0 {
			#clock-cells = <0>;
			compatible = "fixed-clock";
			clock-frequency = <100000000>;
			clock-output-names = "adf4371_clkin";
		};
	};

	vcc_ltc2314: fixedregulator@0 {
		compatible = "regulator-fixed";
		regulator-name = "fixed-supply";
		regulator-min-microvolt = <2048000>;
		regulator-max-microvolt = <2048000>;
		regulator-boot-on;
	};

	stingray_control@0 {
		compatible = "adi,one-bit-adc-dac";
		#address-cells = <1>;
		#size-cells = <0>;

		out-gpios = <&axi_fmc_gpio 30 0>, <&axi_fmc_gpio 31 0>,
								<&axi_fmc_gpio 29 0>, <&axi_fmc_gpio 28 0>,
								<&axi_fmc_gpio 27 0>, <&axi_fmc_gpio 26 0>;
		label = "stingray_control";

		channel@0 {
			reg = <0>;
			label = "PA_ON";
		};

		channel@1 {
			reg = <1>;
			label = "TR";
		};

		channel@2 {
			reg = <2>;
			label = "TX_LOAD";
		};

		channel@3 {
			reg = <3>;
			label = "RX_LOAD";
		};

		channel@4 {
			reg = <4>;
			label = "5V_CTRL";
		};

		channel@5 {
			reg = <5>;
			label = "PWR_UP_DOWN";
		};
	};

	stingray_control_1@1 {
		compatible = "adi,one-bit-adc-dac";
		#address-cells = <1>;
		#size-cells = <0>;

		out-gpios = <&axi_fmc_gpio 13 0>, <&axi_fmc_gpio 12 0>,
								<&axi_fmc_gpio 11 0>, <&axi_fmc_gpio 10 0>,
								<&axi_fmc_gpio  9 0>, <&axi_fmc_gpio  8 0>;
		label = "stingray_control";

		channel@0 {
			reg = <0>;
			label = "PA_ON";
		};

		channel@1 {
			reg = <1>;
			label = "TR";
		};

		channel@2 {
			reg = <2>;
			label = "TX_LOAD";
		};

		channel@3 {
			reg = <3>;
			label = "RX_LOAD";
		};

		channel@4 {
			reg = <4>;
			label = "5V_CTRL";
		};

		channel@5 {
			reg = <5>;
			label = "PWR_UP_DOWN";
		};
	};


	xud_control@2 {
		compatible = "adi,one-bit-adc-dac";
		#address-cells = <1>;
		#size-cells = <0>;

		out-gpios = <&axi_fmc_gpio 16 0>, <&axi_fmc_gpio 17 0>,
								<&axi_fmc_gpio 18 0>, <&axi_fmc_gpio 19 0>,
								<&axi_fmc_gpio 20 0>, <&axi_fmc_gpio 21 0>;
		label = "xud_control";

		channel@0 {
			reg = <0>;
			label = "RX_GAIN_MODE";
		};

		channel@1 {
			reg = <1>;
			label = "TXRX0";
		};

		channel@2 {
			reg = <2>;
			label = "TXRX1";
		};

		channel@3 {
			reg = <3>;
			label = "TXRX2";
		};

		channel@4 {
			reg = <4>;
			label = "TXRX3";
		};

		channel@5 {
			reg = <5>;
			label = "PLL_OUTPUT_SEL";
		};
	};

	imu_control@3 {
		compatible = "adi,one-bit-adc-dac";
		#address-cells = <1>;
		#size-cells = <0>;

		out-gpios =  <&axi_fmc_gpio 14 0>;
		label = "imu_control";

		channel@0 {
			reg = <0>;
			label = "RST";
		};
	};
};

&fpga_axi {
	axi_tdd_0: axi-tdd-0@9c470000 {
		compatible = "adi,axi-tdd";
		reg = <0x0 0x9c470000 0x1000>;
		clocks = <&zynqmp_clk PL0_REF>, <&hmc7044 6>;
		clock-names = "s_axi_aclk", "intf_clk";
	};

	iio_axi_tdd_0: iio-axi-tdd-0@0 {
		compatible = "adi,iio-fake-platform-device";
		adi,faked-dev = <&axi_tdd_0>;
		adi,attribute-names =
			"version", "core_id", "scratch", "magic",
			"sync_soft", "sync_external", "sync_internal", "sync_reset",
			"enable", "startup_delay_raw", "startup_delay_ms",
			"burst_count", "frame_length_raw", "frame_length_ms",
			"state", "internal_sync_period_raw", "internal_sync_period_ms",
			"out_channel0_enable", "out_channel0_polarity",
			"out_channel0_on_raw", "out_channel0_on_ms",
			"out_channel0_off_raw", "out_channel0_off_ms",
			"out_channel1_enable", "out_channel1_polarity",
			"out_channel1_on_raw", "out_channel1_on_ms",
			"out_channel1_off_raw", "out_channel1_off_ms",
			"out_channel2_enable", "out_channel2_polarity",
			"out_channel2_on_raw", "out_channel2_on_ms",
			"out_channel2_off_raw", "out_channel2_off_ms",
			"out_channel3_enable", "out_channel3_polarity",
			"out_channel3_on_raw", "out_channel3_on_ms",
			"out_channel3_off_raw", "out_channel3_off_ms",
			"out_channel4_enable", "out_channel4_polarity",
			"out_channel4_on_raw", "out_channel4_on_ms",
			"out_channel4_off_raw", "out_channel4_off_ms",
			"out_channel5_enable", "out_channel5_polarity",
			"out_channel5_on_raw", "out_channel5_on_ms",
			"out_channel5_off_raw", "out_channel5_off_ms";
		label = "axi-core-tdd";
	};

	axi_data_offload_tx: axi-data-offload-0@9c460000 {
		compatible = "adi,axi-data-offload-1.0.a";
		reg = <0x0 0x9c460000 0x10000>;
		adi,oneshot;
		adi,sync-config = <1>;
	};

	axi_data_offload_rx: axi-data-offload-1@9c450000 {
		compatible = "adi,axi-data-offload-1.0.a";
		reg = <0x0 0x9c450000 0x10000>;
		adi,oneshot;
		adi,sync-config = <1>;
	};

	axi_spi_pmod: spi@85200000 {
		#address-cells = <1>;
		#size-cells = <0>;
		bits-per-word = <8>;
		compatible = "xlnx,xps-spi-2.00.a";
		fifo-size = <16>;
		interrupt-names = "ip2intc_irpt";
		interrupt-parent = <&gic>;
		interrupts = <0 111 IRQ_TYPE_EDGE_RISING>;
		num-cs = <0x8>;
		reg = <0x0 0x85200000 0x1000>;
		xlnx,num-ss-bits = <0x8>;
		xlnx,spi-mode = <0>;

		adar1000_csb_1@1 {
			compatible = "adi,adar1000";
			reg = <1>;
			spi-max-frequency = <12500000>;

			#address-cells = <1>;
			#size-cells = <0>;

			adar1000_csb_1_1@0 {
				reg = <0>;
				label = "adar1000_csb_1_1";
			};

			adar1000_csb_1_2@1 {
				reg = <1>;
				label = "adar1000_csb_1_2";
			};

			adar1000_csb_1_3@2 {
				reg = <2>;
				label = "adar1000_csb_1_3";
			};

			adar1000_csb_1_4@3 {
				reg = <3>;
				label = "adar1000_csb_1_4";
			};
		};

		adar1000_csb_2@2 {
			compatible = "adi,adar1000";
			reg = <2>;
			spi-max-frequency = <12500000>;

			#address-cells = <1>;
			#size-cells = <0>;

			adar1000_csb_2_1@0 {
				reg = <0>;
				label = "adar1000_csb_2_1";
			};

			adar1000_csb_2_2@1 {
				reg = <1>;
				label = "adar1000_csb_2_2";
			};

			adar1000_csb_2_3@2 {
				reg = <2>;
				label = "adar1000_csb_2_3";
			};

			adar1000_csb_2_4@3 {
				reg = <3>;
				label = "adar1000_csb_2_4";
			};
		};

		adar1000_csb_3@3 {
			compatible = "adi,adar1000";
			reg = <3>;
			spi-max-frequency = <12500000>;

			#address-cells = <1>;
			#size-cells = <0>;

			adar1000_csb_3_1@0 {
				reg = <0>;
				label = "adar1000_csb_3_1";
			};

			adar1000_csb_3_2@1 {
				reg = <1>;
				label = "adar1000_csb_3_2";
			};

			adar1000_csb_3_3@2 {
				reg = <2>;
				label = "adar1000_csb_3_3";
			};

			adar1000_csb_3_4@3 {
				reg = <3>;
				label = "adar1000_csb_3_4";
			};
		};

		adar1000_csb_4@4 {
			compatible = "adi,adar1000";
			reg = <4>;
			spi-max-frequency = <12500000>;

			#address-cells = <1>;
			#size-cells = <0>;

			adar1000_csb_4_1@0 {
				reg = <0>;
				label = "adar1000_csb_4_1";
			};

			adar1000_csb_4_2@1 {
				reg = <1>;
				label = "adar1000_csb_4_2";
			};

			adar1000_csb_4_3@2 {
				reg = <2>;
				label = "adar1000_csb_4_3";
			};

			adar1000_csb_4_4@3 {
				reg = <3>;
				label = "adar1000_csb_4_4";
			};
		};

		ltc2314@5 {
			compatible = "adi,ltc2314-14";
			reg = <5>;
			spi-max-frequency = <12500000>;
			vcc-supply = <&vcc_ltc2314>;
		};
	};

	axi_spi_pmod_2: spi@85400000 {
		#address-cells = <1>;
		#size-cells = <0>;
		bits-per-word = <8>;
		compatible = "xlnx,xps-spi-2.00.a";
		fifo-size = <16>;
		interrupt-names = "ip2intc_irpt";
		interrupt-parent = <&gic>;
		interrupts = <0 92 IRQ_TYPE_EDGE_RISING>;
		num-cs = <0x8>;
		reg = <0x0 0x85400000 0x1000>;
		xlnx,num-ss-bits = <0x8>;
		xlnx,spi-mode = <0>;

		adar1000_csb_1@1 {
			compatible = "adi,adar1000";
			reg = <1>;
			spi-max-frequency = <12500000>;

			#address-cells = <1>;
			#size-cells = <0>;

			adar1000_csb_1_1@0 {
				reg = <0>;
				label = "adar1000_csb_1_1";
			};

			adar1000_csb_1_2@1 {
				reg = <1>;
				label = "adar1000_csb_1_2";
			};

			adar1000_csb_1_3@2 {
				reg = <2>;
				label = "adar1000_csb_1_3";
			};

			adar1000_csb_1_4@3 {
				reg = <3>;
				label = "adar1000_csb_1_4";
			};
		};

		adar1000_csb_2@2 {
			compatible = "adi,adar1000";
			reg = <2>;
			spi-max-frequency = <12500000>;

			#address-cells = <1>;
			#size-cells = <0>;

			adar1000_csb_2_1@0 {
				reg = <0>;
				label = "adar1000_csb_2_1";
			};

			adar1000_csb_2_2@1 {
				reg = <1>;
				label = "adar1000_csb_2_2";
			};

			adar1000_csb_2_3@2 {
				reg = <2>;
				label = "adar1000_csb_2_3";
			};

			adar1000_csb_2_4@3 {
				reg = <3>;
				label = "adar1000_csb_2_4";
			};
		};

		adar1000_csb_3@3 {
			compatible = "adi,adar1000";
			reg = <3>;
			spi-max-frequency = <12500000>;

			#address-cells = <1>;
			#size-cells = <0>;

			adar1000_csb_3_1@0 {
				reg = <0>;
				label = "adar1000_csb_3_1";
			};

			adar1000_csb_3_2@1 {
				reg = <1>;
				label = "adar1000_csb_3_2";
			};

			adar1000_csb_3_3@2 {
				reg = <2>;
				label = "adar1000_csb_3_3";
			};

			adar1000_csb_3_4@3 {
				reg = <3>;
				label = "adar1000_csb_3_4";
			};
		};

		adar1000_csb_4@4 {
			compatible = "adi,adar1000";
			reg = <4>;
			spi-max-frequency = <12500000>;

			#address-cells = <1>;
			#size-cells = <0>;

			adar1000_csb_4_1@0 {
				reg = <0>;
				label = "adar1000_csb_4_1";
			};

			adar1000_csb_4_2@1 {
				reg = <1>;
				label = "adar1000_csb_4_2";
			};

			adar1000_csb_4_3@2 {
				reg = <2>;
				label = "adar1000_csb_4_3";
			};

			adar1000_csb_4_4@3 {
				reg = <3>;
				label = "adar1000_csb_4_4";
			};
		};

		ltc2314@5 {
			compatible = "adi,ltc2314-14";
			reg = <5>;
			spi-max-frequency = <12500000>;
			vcc-supply = <&vcc_ltc2314>;
		};
	};

	axi_spi_fmc: spi@85500000 {
		#address-cells = <1>;
		#size-cells = <0>;
		bits-per-word = <8>;
		compatible = "xlnx,xps-spi-2.00.a";
		fifo-size = <16>;
		interrupt-names = "ip2intc_irpt";
		interrupt-parent = <&gic>;
		interrupts = <0 93 IRQ_TYPE_EDGE_RISING>;
		num-cs = <0x8>;
		reg = <0x0 0x85500000 0x1000>;
		xlnx,num-ss-bits = <0x8>;
		xlnx,spi-mode = <0>;

		adf4371_clk0: adf4371-0@6 {
			compatible = "adi,adf4371";
			reg = <6>;

			#address-cells = <1>;
			#clock-cells = <1>;
			#size-cells = <0>;

			spi-max-frequency = <6250000>;
			clocks = <&adf4371_clkin>;
			clock-names = "clkin";
			clock-output-names = "pll0-clk-rf8", "pll0-clk-rfaux8",
				"pll0-clk-rf16", "pll0-clk-rf32";
		};
	};

	axi_fmc_gpio: axi_fmc_gpio@86000000 {
		#gpio-cells = <2>;
		#interrupt-cells = <2>;
		compatible = "xlnx,axi-gpio-2.0", "xlnx,xps-gpio-1.00.a";
		gpio-controller;
		interrupt-controller;
		interrupt-names = "ip2intc_irpt";
		interrupt-parent = <&gic>;
		interrupts = <0 94 IRQ_TYPE_LEVEL_HIGH>;
		reg = <0x0 0x86000000 0x1000>;
		xlnx,all-inputs = <0x0>;
		xlnx,all-inputs-2 = <0x0>;
		xlnx,all-outputs = <0x0>;
		xlnx,all-outputs-2 = <0x0>;
		xlnx,dout-default = <0x00000000>;
		xlnx,dout-default-2 = <0x00000000>;
		xlnx,gpio-width = <0x20>;
		xlnx,gpio2-width = <0x20>;
		xlnx,interrupt-present = <0x1>;
		xlnx,is-dual = <0x0>;
		xlnx,tri-default = <0xFFFFFFFF>;
		xlnx,tri-default-2 = <0xFFFFFFFF>;
	};

	axi_i2c_pmod: i2c@85100000 {
		#address-cells = <1>;
		#size-cells = <0>;
		clock-names = "s_axi_aclk";
		clocks = <&zynqmp_clk 71>;
		compatible = "xlnx,axi-iic-2.0", "xlnx,xps-iic-2.00.a";
		interrupt-names = "iic2intc_irpt";
		interrupt-parent = <&gic>;
		interrupts = <0 110 IRQ_TYPE_LEVEL_HIGH>;
		reg = <0x0 0x85100000 0x1000>;

		ltc2992@6a {
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "adi,ltc2992";
			reg = <0x6A>;

			channel@0 {
				reg = <0x0>;
				shunt-resistor-micro-ohms = <8000>;
			};

			channel@1 {
				reg = <0x1>;
				shunt-resistor-micro-ohms = <3500>;
			};
		};
	};

	axi_iic_2_pmod: i2c@85300000 {
		#address-cells = <1>;
		#size-cells = <0>;
		clock-names = "s_axi_aclk";
		clocks = <&zynqmp_clk 71>;
		compatible = "xlnx,axi-iic-2.1", "xlnx,xps-iic-2.00.a";
		interrupt-names = "iic2intc_irpt";
		interrupt-parent = <&gic>;
		interrupts = <0 91 IRQ_TYPE_LEVEL_HIGH>;
		reg = <0x0 0x85300000 0x1000>;

		ltc2992@6a {
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "adi,ltc2992";
			reg = <0x6A>;

			channel@0 {
				reg = <0x0>;
				shunt-resistor-micro-ohms = <8000>;
			};

			channel@1 {
				reg = <0x1>;
				shunt-resistor-micro-ohms = <3500>;
			};
		};
	};
};
