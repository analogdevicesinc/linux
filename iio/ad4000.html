<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Device driver for Analog Devices Inc. AD4000 series of ADCs." name="description" />

    <title>AD4000 driver &#8212; Linux Drivers  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../_static/app.min.css?v=37266688" />
    <script async="async" src="../_static/app.umd.js?v=8f62bab2"></script>
    <link rel="icon" href="../_static/icon.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="AD4695 driver" href="ad4695.html" />
    <link rel="prev" title="AD3552R driver" href="ad3552r.html" />
   
  
  
  <meta name="repository" content="linux">
  <meta name="version" content="">
  
    <meta name="page_source_suffix" content=".rst">
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com" aria-label="Analog Devices Inc. landing page"></a>
        <div class="vertical-divider"></div>
        
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        
        <a id="logo" href="../index.html">
          <div>Linux</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../index.html" class="current">Linux</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div class="header localtoc-header">
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">AD4000 driver</a><ul>
<li><a class="reference internal" href="#supported-devices">Supported devices</a><ul>
<li><a class="reference internal" href="#wiring-connections">Wiring connections</a><ul>
<li><a class="reference internal" href="#cs-mode-3-wire-turbo-mode">CS mode, 3-wire turbo mode</a></li>
<li><a class="reference internal" href="#cs-mode-3-wire-without-busy-indicator">CS mode, 3-wire, without busy indicator</a></li>
<li><a class="reference internal" href="#cs-mode-4-wire-without-busy-indicator">CS mode, 4-wire without busy indicator</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../index.html">
      Linux Drivers
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../index.html" class="current">Linux</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="index.html">Industrial I/O</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="iio_devbuf.html">Industrial IIO device buffers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad3552r.html">AD3552R driver</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">AD4000 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad4695.html">AD4695 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad7191.html">AD7191 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad7380.html">AD7380 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad7625.html">AD7625 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad7944.html">AD7944 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="adis16475.html">ADIS16475 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="adis16480.html">ADIS16480 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="adis16550.html">ADIS16550 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="adxl380.html">ADXL380 driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ci.html">Continuous integration</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
  <nav class="breadcrumb"><ol><li><a href="index.html">Industrial I/O</a></li></ol></nav>
</div>
          <div class="body" role="main">
            
  <section id="ad4000-driver">
<h1>AD4000 driver<a class="headerlink" href="#ad4000-driver" title="Link to this heading"></a></h1>
<p>Device driver for Analog Devices Inc. AD4000 series of ADCs.</p>
<section id="supported-devices">
<h2>Supported devices<a class="headerlink" href="#supported-devices" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4000" target="_blank">AD4000</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4001" target="_blank">AD4001</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4002" target="_blank">AD4002</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4003" target="_blank">AD4003</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4004" target="_blank">AD4004</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4005" target="_blank">AD4005</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4006" target="_blank">AD4006</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4007" target="_blank">AD4007</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4008" target="_blank">AD4008</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4010" target="_blank">AD4010</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4011" target="_blank">AD4011</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4020" target="_blank">AD4020</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4021" target="_blank">AD4021</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/AD4022" target="_blank">AD4022</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/ADAQ4001" target="_blank">ADAQ4001</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/ADAQ4003" target="_blank">ADAQ4003</a></p></li>
</ul>
<section id="wiring-connections">
<h3>Wiring connections<a class="headerlink" href="#wiring-connections" title="Link to this heading"></a></h3>
<p>Devices of the AD4000 series can be connected to the SPI host controller in a
few different modes.</p>
<section id="cs-mode-3-wire-turbo-mode">
<h4>CS mode, 3-wire turbo mode<a class="headerlink" href="#cs-mode-3-wire-turbo-mode" title="Link to this heading"></a></h4>
<p>Datasheet “3-wire” mode is what most resembles standard SPI connection which,
for these devices, comprises of connecting the controller CS line to device CNV
pin and other SPI lines as usual. This configuration is (misleadingly) called
“CS Mode, 3-Wire Turbo Mode” connection in datasheets.
NOTE: The datasheet definition of 3-wire mode for the AD4000 series is NOT the
same of standard spi-3wire mode.
This is the only connection mode that allows configuration register access but
it requires the SPI controller to support the <code class="docutils literal notranslate"><span class="pre">SPI_MOSI_IDLE_HIGH</span></code> feature.</p>
<p>Omit the <code class="docutils literal notranslate"><span class="pre">adi,sdi-pin</span></code> property in device tree to select this mode.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                                    <span class="o">+-------------+</span>
<span class="o">+</span> <span class="o">----------------------------------|</span> <span class="n">SDO</span>         <span class="o">|</span>
<span class="o">|</span>                                   <span class="o">|</span>             <span class="o">|</span>
<span class="o">|</span>               <span class="o">+-------------------|</span> <span class="n">CS</span>          <span class="o">|</span>
<span class="o">|</span>               <span class="n">v</span>                   <span class="o">|</span>             <span class="o">|</span>
<span class="o">|</span>    <span class="o">+--------------------+</span>         <span class="o">|</span>     <span class="n">HOST</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="o">|</span>        <span class="n">CNV</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
<span class="o">+---&gt;|</span> <span class="n">SDI</span>   <span class="n">AD4000</span>   <span class="n">SDO</span> <span class="o">|--------&gt;|</span> <span class="n">SDI</span>         <span class="o">|</span>
     <span class="o">|</span>        <span class="n">SCK</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
     <span class="o">+--------------------+</span>         <span class="o">|</span>             <span class="o">|</span>
               <span class="o">^</span>                    <span class="o">|</span>             <span class="o">|</span>
               <span class="o">+--------------------|</span> <span class="n">SCLK</span>        <span class="o">|</span>
                                    <span class="o">+-------------+</span>
</pre></div>
</div>
</section>
<section id="cs-mode-3-wire-without-busy-indicator">
<h4>CS mode, 3-wire, without busy indicator<a class="headerlink" href="#cs-mode-3-wire-without-busy-indicator" title="Link to this heading"></a></h4>
<p>Another wiring configuration supported as “3-wire” mode has the SDI pin
hard-wired to digital input/output interface supply (VIO). In this setup, the
controller is not required to support <code class="docutils literal notranslate"><span class="pre">SPI_MOSI_IDLE_HIGH</span></code> but register access
is not possible. This connection mode saves one wire and works with any SPI
controller.</p>
<p>Set the <code class="docutils literal notranslate"><span class="pre">adi,sdi-pin</span></code> device tree property to <code class="docutils literal notranslate"><span class="pre">&quot;high&quot;</span></code> to select this mode.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                                     <span class="o">+-------------+</span>
                <span class="o">+--------------------|</span> <span class="n">CS</span>          <span class="o">|</span>
                <span class="n">v</span>                    <span class="o">|</span>             <span class="o">|</span>
<span class="n">VIO</span>   <span class="o">+--------------------+</span>         <span class="o">|</span>     <span class="n">HOST</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">|</span>        <span class="n">CNV</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
 <span class="o">+---&gt;|</span> <span class="n">SDI</span>   <span class="n">AD4000</span>   <span class="n">SDO</span> <span class="o">|--------&gt;|</span> <span class="n">SDI</span>         <span class="o">|</span>
      <span class="o">|</span>        <span class="n">SCK</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
      <span class="o">+--------------------+</span>         <span class="o">|</span>             <span class="o">|</span>
                <span class="o">^</span>                    <span class="o">|</span>             <span class="o">|</span>
                <span class="o">+--------------------|</span> <span class="n">SCLK</span>        <span class="o">|</span>
                                     <span class="o">+-------------+</span>
</pre></div>
</div>
<p>Alternatively, a GPIO may be connected to the device CNV pin. This is similar to
the previous wiring configuration but saves the use of a CS line.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                                     <span class="o">+-------------+</span>
                <span class="o">+--------------------|</span> <span class="n">GPIO</span>        <span class="o">|</span>
                <span class="n">v</span>                    <span class="o">|</span>             <span class="o">|</span>
<span class="n">VIO</span>   <span class="o">+--------------------+</span>         <span class="o">|</span>     <span class="n">HOST</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">|</span>        <span class="n">CNV</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
 <span class="o">+---&gt;|</span> <span class="n">SDI</span>   <span class="n">AD4000</span>   <span class="n">SDO</span> <span class="o">|--------&gt;|</span> <span class="n">SDI</span>         <span class="o">|</span>
      <span class="o">|</span>        <span class="n">SCK</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
      <span class="o">+--------------------+</span>         <span class="o">|</span>             <span class="o">|</span>
                <span class="o">^</span>                    <span class="o">|</span>             <span class="o">|</span>
                <span class="o">+--------------------|</span> <span class="n">SCLK</span>        <span class="o">|</span>
                                     <span class="o">+-------------+</span>
</pre></div>
</div>
</section>
<section id="cs-mode-4-wire-without-busy-indicator">
<h4>CS mode, 4-wire without busy indicator<a class="headerlink" href="#cs-mode-4-wire-without-busy-indicator" title="Link to this heading"></a></h4>
<p>In datasheet “4-wire” mode, the controller CS line is connected to the ADC SDI
pin and a GPIO is connected to the ADC CNV pin. This connection mode may better
suit scenarios where multiple ADCs can share one CNV trigger.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">adi,sdi-pin</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;cs&quot;</span></code> to select this mode.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                                    <span class="o">+-------------+</span>
<span class="o">+</span> <span class="o">----------------------------------|</span> <span class="n">CS</span>          <span class="o">|</span>
<span class="o">|</span>                                   <span class="o">|</span>             <span class="o">|</span>
<span class="o">|</span>               <span class="o">+-------------------|</span> <span class="n">GPIO</span>        <span class="o">|</span>
<span class="o">|</span>               <span class="n">v</span>                   <span class="o">|</span>             <span class="o">|</span>
<span class="o">|</span>    <span class="o">+--------------------+</span>         <span class="o">|</span>     <span class="n">HOST</span>    <span class="o">|</span>
<span class="o">|</span>    <span class="o">|</span>        <span class="n">CNV</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
<span class="o">+---&gt;|</span> <span class="n">SDI</span>   <span class="n">AD4000</span>   <span class="n">SDO</span> <span class="o">|--------&gt;|</span> <span class="n">SDI</span>         <span class="o">|</span>
     <span class="o">|</span>        <span class="n">SCK</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
     <span class="o">+--------------------+</span>         <span class="o">|</span>             <span class="o">|</span>
               <span class="o">^</span>                    <span class="o">|</span>             <span class="o">|</span>
               <span class="o">+--------------------|</span> <span class="n">SCLK</span>        <span class="o">|</span>
                                    <span class="o">+-------------+</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="ad3552r.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">AD3552R driver</a>
    <a href="ad4695.html" title="Next document (Alt+Shift+RightArrow)" class="next">AD4695 driver</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2025, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>