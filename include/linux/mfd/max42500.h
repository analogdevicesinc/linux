/* SPDX-License-Identifier: GPL-2.0-or-later */
/*
 * MAX42500 - Industrial Power System Monitor
 *
 * Copyright 2025 Analog Devices Inc.
 */

#ifndef __MFD_MAX42500_H
#define __MFD_MAX42500_H

#include <linux/bitfield.h>
#include <linux/bitops.h>

/* Command registers */
#define MAX42500_REG_ID		0x00
#define MAX42500_REG_CONFIG1		0x01
#define MAX42500_REG_CONFIG2		0x02
#define MAX42500_REG_VMON		0x03
#define MAX42500_REG_RSTMAP		0x04
#define MAX42500_REG_STATOV		0x05
#define MAX42500_REG_STATUV		0x06
#define MAX42500_REG_STATOFF		0x07
#define MAX42500_REG_VIN1		0x08
#define MAX42500_REG_VIN2		0x09
#define MAX42500_REG_VIN3		0x0A
#define MAX42500_REG_VIN4		0x0B
#define MAX42500_REG_VIN5		0x0C
#define MAX42500_REG_VINO6		0x0D
#define MAX42500_REG_VINU6		0x0E
#define MAX42500_REG_VINO7		0x0F
#define MAX42500_REG_VINU7		0x10
#define MAX42500_REG_OVUV1		0x11
#define MAX42500_REG_OVUV2		0x12
#define MAX42500_REG_OVUV3		0x13
#define MAX42500_REG_OVUV4		0x14
#define MAX42500_REG_OVUV5		0x15
#define MAX42500_REG_FPSTAT1		0x16
#define MAX42500_REG_FPSCFG1		0x17
#define MAX42500_REG_UTIME1		0x18
#define MAX42500_REG_UTIME2		0x19
#define MAX42500_REG_UTIME3		0x1A
#define MAX42500_REG_UTIME4		0x1B
#define MAX42500_REG_UTIME5		0x1C
#define MAX42500_REG_UTIME6		0x1D
#define MAX42500_REG_UTIME7		0x1E
#define MAX42500_REG_DTIME1		0x1F
#define MAX42500_REG_DTIME2		0x20
#define MAX42500_REG_DTIME3		0x21
#define MAX42500_REG_DTIME4		0x22
#define MAX42500_REG_DTIME5		0x23
#define MAX42500_REG_DTIME6		0x24
#define MAX42500_REG_DTIME7		0x25
#define MAX42500_REG_WDSTAT		0x26
#define MAX42500_REG_WDCDIV		0x27
#define MAX42500_REG_WDCFG1		0x28
#define MAX42500_REG_WDCFG2		0x29
#define MAX42500_REG_WDKEY		0x2A
#define MAX42500_REG_WDLOCK		0x2B
#define MAX42500_REG_RSTCTRL		0x2C
#define MAX42500_REG_CID		0x2D

/* Device chip registers */
#define MAX42500_CHIP_ID_MASK		GENMASK(7, 0)
#define MAX42500_CHIP_ID(x)		FIELD_GET(MAX42500_CHIP_ID_MASK, x)
#define MAX42500_CHIP_CID_MASK		GENMASK(7, 0)
#define MAX42500_CHIP_CID(x)		FIELD_GET(MAX42500_CHIP_CID_MASK, x)
#define MAX42500_CHIP_CFG2_MASK	GENMASK(7, 0)
#define MAX42500_CHIP_CFG2(x)		FIELD_GET(MAX42500_CHIP_PECE_MASK, x)
#define MAX42500_CHIP_PECE_MASK	BIT(0)
#define MAX42500_CHIP_PECE(x)		FIELD_GET(MAX42500_CHIP_PECE_MASK, x)
#define MAX42500_CHIP_MBST_MASK	BIT(1)
#define MAX42500_CHIP_MBST(x)		FIELD_GET(MAX42500_CHIP_MBST_MASK, x)
#define MAX42500_CHIP_RR_MASK		BIT(2)
#define MAX42500_CHIP_RR(x)		FIELD_GET(MAX42500_CHIP_RR_MASK, x)

/* Voltage Monitor registers */
#define MAX42500_VMON_VM1_MASK		BIT(0)
#define MAX42500_VMON_VM1(x)		FIELD_GET(MAX42500_VMON_VM1_MASK, x)
#define MAX42500_VMON_VM2_MASK		BIT(1)
#define MAX42500_VMON_VM2(x)		FIELD_GET(MAX42500_VMON_VM2_MASK, x)
#define MAX42500_VMON_VM3_MASK		BIT(2)
#define MAX42500_VMON_VM3(x)		FIELD_GET(MAX42500_VMON_VM3_MASK, x)
#define MAX42500_VMON_VM4_MASK		BIT(3)
#define MAX42500_VMON_VM4(x)		FIELD_GET(MAX42500_VMON_VM4_MASK, x)
#define MAX42500_VMON_VM5_MASK		BIT(4)
#define MAX42500_VMON_VM5(x)		FIELD_GET(MAX42500_VMON_VM5_MASK, x)
#define MAX42500_VMON_VM6_MASK		BIT(5)
#define MAX42500_VMON_VM6(x)		FIELD_GET(MAX42500_VMON_VM6_MASK, x)
#define MAX42500_VMON_VM7_MASK		BIT(6)
#define MAX42500_VMON_VM7(x)		FIELD_GET(MAX42500_VMON_VM7_MASK, x)
#define MAX42500_VMON_VMPD_MASK	BIT(7)
#define MAX42500_VMON_VMPD(x)		FIELD_GET(MAX42500_VMON_VMPD_MASK, x)
#define MAX42500_VMON_RST1_MASK	BIT(0)
#define MAX42500_VMON_RST1(x)		FIELD_GET(MAX42500_VMON_RST1_MASK, x)
#define MAX42500_VMON_RST2_MASK	BIT(1)
#define MAX42500_VMON_RST2(x)		FIELD_GET(MAX42500_VMON_RST2_MASK, x)
#define MAX42500_VMON_RST3_MASK	BIT(2)
#define MAX42500_VMON_RST3(x)		FIELD_GET(MAX42500_VMON_RST3_MASK, x)
#define MAX42500_VMON_RST4_MASK	BIT(3)
#define MAX42500_VMON_RST4(x)		FIELD_GET(MAX42500_VMON_RST4_MASK, x)
#define MAX42500_VMON_RST5_MASK	BIT(4)
#define MAX42500_VMON_RST5(x)		FIELD_GET(MAX42500_VMON_RST5_MASK, x)
#define MAX42500_VMON_RST6_MASK	BIT(5)
#define MAX42500_VMON_RST6(x)		FIELD_GET(MAX42500_VMON_RST6_MASK, x)
#define MAX42500_VMON_RST7_MASK	BIT(6)
#define MAX42500_VMON_RST7(x)		FIELD_GET(MAX42500_VMON_RST7_MASK, x)
#define MAX42500_VMON_PARM_MASK	BIT(7)
#define MAX42500_VMON_PARM(x)		FIELD_GET(MAX42500_VMON_PARM_MASK, x)
#define MAX42500_VMON_1VIN5_MASK	GENMASK(7, 0)
#define MAX42500_VMON_1VIN5(x)		FIELD_GET(MAX42500_VMON_1VIN5_MASK, x)
#define MAX42500_VMON_1VINU5_MASK	GENMASK(3, 0)
#define MAX42500_VMON_1VINU5(x)	FIELD_GET(MAX42500_VMON_1VINU5_MASK, x)
#define MAX42500_VMON_6VINU7_MASK	GENMASK(7, 0)
#define MAX42500_VMON_6VINU7(x)	FIELD_GET(MAX42500_VMON_6VINU7_MASK, x)
#define MAX42500_VMON_1VINO5_MASK	GENMASK(7, 4)
#define MAX42500_VMON_1VINO5(x)	FIELD_GET(MAX42500_VMON_1VINO5_MASK, x)
#define MAX42500_VMON_6VINO7_MASK	GENMASK(7, 0)
#define MAX42500_VMON_6VINO7(x)	FIELD_GET(MAX42500_VMON_6VINO7_MASK, x)
#define MAX42500_VMON_STATOFF_MASK	GENMASK(7, 0)
#define MAX42500_VMON_STATOFF(x)	FIELD_GET(MAX42500_VMON_STATOFF_MASK, x)
#define MAX42500_VMON_STATUV_MASK	GENMASK(7, 0)
#define MAX42500_VMON_STATUV(x)	FIELD_GET(MAX42500_VMON_STATUV_MASK, x)
#define MAX42500_VMON_STATOV_MASK	GENMASK(7, 0)
#define MAX42500_VMON_STATOV(x)	FIELD_GET(MAX42500_VMON_STATOV_MASK, x)

/* Sequence recorder registers */
#define MAX42500_FPSR_FPSTAT1_MASK	GENMASK(7, 0)
#define MAX42500_FPSR_FPSTAT1(x)	FIELD_GET(MAX42500_FPSR_FPSTAT1_MASK, x)
#define MAX42500_FPSR_FDIV_MASK	GENMASK(2, 0)
#define MAX42500_FPSR_FDIV(x)		FIELD_GET(MAX42500_FPSR_FDIV_MASK, x)
#define MAX42500_FPSR_FPSEN1_MASK	BIT(3)
#define MAX42500_FPSR_FPSEN1(x)	FIELD_GET(MAX42500_FPSR_FPSEN1_MASK, x)
#define MAX42500_FPSR_DVALM_MASK	BIT(4)
#define MAX42500_FPSR_DVALM(x)		FIELD_GET(MAX42500_FPSR_DVALM_MASK, x)
#define MAX42500_FPSR_UVALM_MASK	BIT(5)
#define MAX42500_FPSR_UVALM(x)		FIELD_GET(MAX42500_FPSR_UVALM_MASK, x)
#define MAX42500_FPSR_DVAL_MASK	BIT(6)
#define MAX42500_FPSR_DVAL(x)		FIELD_GET(MAX42500_FPSR_DVAL_MASK, x)
#define MAX42500_FPSR_UVAL_MASK	BIT(7)
#define MAX42500_FPSR_UVAL(x)		FIELD_GET(MAX42500_FPSR_UVAL_MASK, x)
#define MAX42500_FPSR_1UTIM7_MASK	GENMASK(7, 0)
#define MAX42500_FPSR_1UTIM7(x)	FIELD_GET(MAX42500_FPSR_1UTIM7_MASK, x)
#define MAX42500_FPSR_1DTIM7_MASK	GENMASK(7, 0)
#define MAX42500_FPSR_1DTIM7(x)	FIELD_GET(MAX42500_FPSR_1DTIM7_MASK, x)

/* Windowed watchdog register*/
#define MAX42500_WDOG_WDSTAT_MASK	GENMASK(7, 0)
#define MAX42500_WDOG_WDSTAT(x)	FIELD_GET(MAX42500_WDOG_WDSTAT_MASK, x)
#define MAX42500_WDOG_WDIV_MASK	GENMASK(5, 0)
#define MAX42500_WDOG_WDIV(x)		FIELD_GET(MAX42500_WDOG_WDIV_MASK, x)
#define MAX42500_WDOG_SWW_MASK		BIT(6)
#define MAX42500_WDOG_SWW(x)		FIELD_GET(MAX42500_WDOG_SWW_MASK, x)
#define MAX42500_WDOG_WDOPEN_MASK	GENMASK(3, 0)
#define MAX42500_WDOG_WDOPEN(x)	FIELD_GET(MAX42500_WDOG_WDOPEN_MASK, x)
#define MAX42500_WDOG_WDCLOSE_MASK	GENMASK(7, 4)
#define MAX42500_WDOG_WDCLOSE(x)	FIELD_GET(MAX42500_WDOG_WDCLOSE_MASK, x)
#define MAX42500_WDOG_1UD_MASK		GENMASK(2, 0)
#define MAX42500_WDOG_1UD(x)		FIELD_GET(MAX42500_WDOG_1UD_MASK, x)
#define MAX42500_WDOG_WDEN_MASK	BIT(3)
#define MAX42500_WDOG_WDEN(x)		FIELD_GET(MAX42500_WDOG_WDEN_MASK, x)
#define MAX42500_WDOG_WDKEY_MASK	GENMASK(7, 0)
#define MAX42500_WDOG_WDKEY(x)		FIELD_GET(MAX42500_WDOG_WDKEY_MASK, x)
#define MAX42500_WDOG_WDLOCK_MASK	BIT(0)
#define MAX42500_WDOG_WDLOCK(x)	FIELD_GET(MAX42500_WDOG_WDLOCK_MASK, x)
#define MAX42500_WDOG_RHLD_MASK	GENMASK(1, 0)
#define MAX42500_WDOG_RHLD(x)		FIELD_GET(MAX42500_WDOG_RHLD_MASK, x)
#define MAX42500_WDOG_MR1_MASK		BIT(2)
#define MAX42500_WDOG_MR1(x)		FIELD_GET(MAX42500_WDOG_MR1_MASK, x)

#endif /* __MFD_MAX42500_H */
