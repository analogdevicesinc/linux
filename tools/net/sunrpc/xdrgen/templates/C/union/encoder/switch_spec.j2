{# SPDX-License-Identifier: GPL-2.0 #}
{% if annotate %}
	/* discriminant {{ name }} */
{% endif %}
	if (!xdrgen_encode_{{ type }}(xdr, ptr->{{ name }}))
		return false;
	switch (ptr->{{ name }}) {
